# 2章

## `ps aux --no-header | wc -l`
実行中のプロセスの数をカウントするためのものである。
- `ps aux`
  - ps: プロセスのステータスを表示するコマンドです。
  - aux: オプションです。
    - a: すべてのターミナルからのプロセスを表示します。
    - u: ユーザー/オーナー情報を含む詳細な表示をします。
    - x: ターミナルに関連しないプロセスも表示します。

- `--no-header`: ps コマンドの出力からヘッダー行を除外します。
コマンドの出力からヘッダー行を除外する。

- `|`: パイプ記号です。この記号は、前のコマンドの出力を次のコマンドの入力として使用します。

-  `wc -l`:
  - wc: "word count" の略で、テキストの行数、単語数、文字数をカウントするコマンドです。
  - -l: オプションで、行数だけをカウントします。

したがって、このコマンドは、システム上で現在実行中のプロセスの総数（ヘッダーを除く）をカウントして表示します。


## fork()関数から復帰するとはどういう意味ですか？
fork()関数は、新しいプロセス（子プロセス）を作成するためのシステムコールです。
この関数が特徴的なのは、一度呼び出すと二度復帰するという点です。これは少し直感的でないかもしれませんので、詳しく説明します。

fork()関数を呼び出すと、以下のようになります：
- 親プロセス：fork()は子プロセスのプロセスID (PID) を返します。このPIDは正の整数値です。
- 子プロセス：fork()は0を返します

したがって、fork()関数の後にコードを書くと、そのコードは親プロセスと子プロセスの両方で実行されます。
しかし、fork()の返り値を使って、どちらのプロセスで実行されているのかを判断することができます。
そのため、多くの場合、返り値をチェックして、親プロセスと子プロセスで異なる動作をさせることが一般的です。

「fork()関数から復帰する」とは、この関数が呼び出された後、新しい子プロセスが作成され、
親プロセスと子プロセスの両方が続くコードを実行することを意味します。
復帰の際の振る舞い（返り値）が異なるため、この振る舞いの違いを利用して、それぞれのプロセスでどのような動作をさせるかを制御することができます。


## `cc -o pause -no -pie pause.c`
- `-no -pie:`
コンパイラオプションの一つで、Position Independent Executables (PIE) の生成を無効にするためのものです。まず、PIE自体について少し説明します。

Position Independent Executables (PIE)

- PIEは実行時にメモリ上の任意の位置にロードされることができる実行ファイルです。
- PIEはPosition Independent Code (PIC) の概念を実行ファイルに拡張したものです。PICは共有ライブラリのコンテキストでよく使われます。
- PIEの主な利点は、Address Space Layout Randomization (ASLR) の効果を強化することです。
ASLRはセキュリティの機構の一つで、メモリ上のオブジェクトの位置をランダム化することで、
バッファオーバーフローや他のメモリ関連の攻撃をより困難にします。

-no-pie オプションの役割：

一部のシステムやコンパイラのバージョンでは、デフォルトでPIEが有効になっていることがあります。
このような環境でPIEを無効にしたい場合に、-no-pie オプションを使用します。
PIEを無効にする理由はいくつかあります。
例えば、特定のメモリアドレスに依存するような古いソフトウェアや、デバッグを簡単にするため、
あるいは特定のハードウェアや組み込みシステムの制約などが考えられます。
したがって、-no-pie オプションを使うことで、PIEの生成を無効にし、実行ファイルが固定のメモリアドレスにロードされるようになります。


## `readelf -h pause` 
ELF (Executable and Linkable Format) フォーマットのファイルの情報を表示するためのツールです。
ELFフォーマットは、多くのUNIX系オペレーティングシステムで実行ファイル、共有ライブラリ、
さらにはいくつかのコアダンプで使用される標準的なバイナリフォーマットです。


